@model AddProjectViewModel
@{
    ViewData["Title"] = "Add Project";
}

<link href="~/css/masthead.css" rel="stylesheet" />
<header class="masthead" style="background-image: url('assets/img/post-bg.jpg')">
</header>

<h1 class="text-center ">Add Project</h1>

<div class="account-pages w-100 mt-5 mb-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6 col-xl-5">
                <div class="card">

                    <div class="card-body p-4">

                        <div class="text-center ">
                                <a>
                                    <span><img src="~/assets/images/Knust.png" alt="" style="height:50px"></span>
                                    <span class="font-weight-bold"> Add Projects</span>
                                </a>

                            </div>

                        <form method="post" class="pt-2" enctype="multipart/form-data">

                            <div class="form-group mb-3">
                                <label for="fullname">Project Title</label>
                                <input class="form-control" type="text" asp-for="@Model.Title" placeholder="Title" required>
                            </div>
                            <div class="form-group mb-3">
                                <label for="fullname">Project Manager</label>
                                <input class="form-control" type="text" asp-for="@Model.ProjectManager" required placeholder="Project Manager">

                            </div>
                            <div class="form-group mb-3">
                                <label>Started date</label>
                                <input class="form-control" type="date" asp-for="@Model.date" required placeholder="Start Date">

                            </div>

                            <div class="form-group mb-3">
                                <label>Status of the project</label>
                                <select asp-items="@Model.statuses" asp-for="@Model.Status" class="form-control">

                                    <option value="none" selected="">Select item</option>

                                </select>

                            </div>
                            <div class="form-group mb-3">
                                <label for="emailaddress">Description</label>
                                <textarea style="height: 150px;" class="form-control" asp-for="@Model.Description" type="text" placeholder="Description" required></textarea>
                            </div>



                            <div class="form-group mb-3">
                                <label asp-for="@Model.Upload">Upload Image</label>
                                <div class="custom-file">
                                    @* <input type="file" asp-for="@Model.Upload" class="form-control custom-file-input"   accept="image/*" />
        @if (!string.IsNullOrEmpty(Model.Photopath))
        {
            <img id="blah" src="#"  alt="" class="img-thumbnail" />
        }*@

                                    <input accept="image/*" type='file' id="imgInp"  asp-for="@Model.Upload"/>
                                    <img id="blah" src="#" alt="your image" class="img-thumbnail" />
                                </div>

                            </div>


                            <div class="form-group mb-0 text-center">
                                <button style="float:left" class="btn btn-primary btn-block" type="submit"> Add Project </button>
                            </div>
                            @section Scripts {
                                <script>
                                    @*   $(document).ready(function () {
                                        $('.custom-file-input').on("change", function () {
                                            var fileName = $(this).val().split("\\").pop();
                                            $(this).next('.custom-file-label').html(fileName);

                                        })
                                    }
                                        
                                    );*@

                                    imgInp.onchange = evt => {
                                        const [file] = imgInp.files
                                        if (file) {
                                            blah.src = URL.createObjectURL(file)
                                        }
                                    }

                                </script>
                            }

                        </form>

                       

                    </div>  
                </div>
                

            </div>  
        </div>
        
    </div>
    
</div>
